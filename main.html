<!DOCTYPE html>
<html>
    <head>
        <title>unbox</title>
        
        <!-- Include eel.js - note this file doesn't exist in the 'web' directory -->
        <script type="text/javascript" src="/eel.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <script type="text/javascript">
            async function get_last_log() {
            let artistTrackPair = await eel.get_last_log()(); // Must prefix call with 'await', otherwise it's the same syntax
            document.getElementById('last_log').innerText = artistTrackPair;
            }
            setInterval(function() {
                get_last_log();
            }, 5000); // 5000 milliseconds
        </script>
    </head>
    
    <body class="container">
        <h1>unbox</h1>
        <h6>You're now logging your rekordbox in real-time to a text file.</h6>
        <h6>You'll find a rekordbox_stream.txt file in a folder called unbox_output. This file contains the track Artist / Title pairs.</h6>
        <h6>You can feed this file into OBS and it will automatically display what you're playing in rekordbox. 
        <br>
        <h6>Here's the last track that we logged: <b><p id="last_log"></p></b></h6>

    </body>
</html>
